<h3>{{tournament.name}}</h3>

<p-toolbar styleClass="mb-4">
  <ng-template pTemplate="left">
    <button (click)="openRegisterPlayerDialog()" class="p-button-success mr-3" icon="pi pi-plus"
            label="Register Player"
            pButton
            pRipple></button>

    <button (click)="deletePlayers()" class="p-button-danger" icon="pi pi-trash" label="Delete All Players"
            pButton
            pRipple></button>
  </ng-template>
</p-toolbar>

<p-table [value]="tournament.players"
         responsiveLayout="scroll"
         selectionMode="single">
  <ng-template pTemplate="header">
    <tr>
      <th>Ranking</th>
      <th>Name</th>
      <th>Score</th>
    </tr>
  </ng-template>
  <ng-template let-player pTemplate="body">
    <tr>
      <td>{{player.ranking}}</td>
      <td>{{player.playerName}}</td>
      <td class="flex align-items-center justify-content-between">
        <div class="mr-3">{{player.score}}</div>
        <button (click)="editPlayer(player)" class="p-button-rounded p-button-success p-mr-2" icon="pi pi-pencil"
                pButton
                pRipple></button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog [(visible)]="updatePlayerScoreDialog" [modal]="true" [style]="{width: '450px'}" header="Player Details"
          styleClass="p-fluid">
  <ng-template class="flex-column" pTemplate="content">
    <div class="flex mb-5">
      <div class="label mr-3">Ranking</div>
      <div>{{player.ranking}}</div>
    </div>
    <div class="flex mb-5">
      <div class="label mr-3">Name</div>
      <div>{{player.playerName}}</div>
    </div>
    <div class="flex align-items-center">
      <div class="label mr-3" for="score">Score</div>
      <input [(ngModel)]="player.score" autofocus class="score" id="score" pInputText required type="text"/>
    </div>
  </ng-template>

  <ng-template pTemplate="footer">
    <button (click)="hideUpdatePlayerScoreDialog()" class="p-button-text" icon="pi pi-times" label="Cancel" pButton
            pRipple></button>
    <button (click)="updatePlayerScore()" class="p-button-text" icon="pi pi-check" label="Save" pButton
            pRipple></button>
  </ng-template>
</p-dialog>

<p-dialog [(visible)]="registerPlayerDialog" [modal]="true" [style]="{width: '450px'}" header="Registration Form"
          styleClass="p-fluid">
  <ng-template pTemplate="content">
    <div class="p-field">
      <div class="mb-2" for="name">Player Name</div>
      <input [(ngModel)]="player.playerName" autofocus id="name" pInputText required type="text"/>
    </div>
  </ng-template>

  <ng-template pTemplate="footer">
    <button (click)="hideRegisterPlayerDialog()" class="p-button-text" icon="pi pi-times" label="Cancel" pButton
            pRipple></button>
    <button (click)="registerPlayer()" class="p-button-text" icon="pi pi-check" label="Save" pButton
            pRipple></button>
  </ng-template>
</p-dialog>
